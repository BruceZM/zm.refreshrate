<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Screen Refresh Rate</title>
<style>
  body { text-align: center; padding-top: 20vh; font-family: Arial, sans-serif; }
</style>
</head>
<body>
<h1>Screen Refresh Rate</h1>
<h1 id="count"></h1>
<p id="rate">Calculating...</p>
<script>
  function getRefreshRate(callback) {
    let frameCount = 0;
    let startTime;
    
    function step(timestamp) {
        if (!startTime) {
            startTime = timestamp;
        }
        
        frameCount++;
        document.getElementById('count').innerText = `Calculating times: ${frameCount}`;
        let elapsed = timestamp - startTime;
        
        if (elapsed >= 1000) { // 计算1秒内的帧数
            let refreshRate = (frameCount / elapsed) * 1000;
            callback(refreshRate);
        } else {
            requestAnimationFrame(step);
        }
    }
    
    requestAnimationFrame(step);
  }

  getRefreshRate((rate) => {
    document.getElementById('rate').innerText = `屏幕刷新率: ${rate.toFixed(2)} Hz`;
  });
</script>
</body>
</html>
